(this["webpackJsonpmy-project"]=this["webpackJsonpmy-project"]||[]).push([[0],{27:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),s=n.n(a),r=n(18),i=n.n(r),o=(n(27),n(21)),l=n(6),u=n(8),j=n(9),d=n.n(j),b=n(19),h=n(3),m=n(20),O=n.n(m),p={sports:21,history:23,politics:24,generalknowledge:9,animal:27,celebrities:26,geography:22,vehicles:28},x=s.a.createContext(),f=function(e){var t=e.children,n=Object(a.useState)(!0),s=Object(h.a)(n,2),r=s[0],i=s[1],o=Object(a.useState)(!1),j=Object(h.a)(o,2),m=j[0],f=j[1],y=Object(a.useState)([]),g=Object(h.a)(y,2),v=g[0],w=g[1],N=Object(a.useState)(0),k=Object(h.a)(N,2),q=k[0],S=k[1],C=Object(a.useState)(0),M=Object(h.a)(C,2),z=M[0],_=M[1],F=Object(a.useState)(!1),I=Object(h.a)(F,2),A=I[0],H=I[1],J=Object(a.useState)({amount:10,category:"sports",difficulty:"easy"}),L=Object(h.a)(J,2),Q=L[0],T=L[1],B=Object(a.useState)(!1),D=Object(h.a)(B,2),E=D[0],P=D[1],G=function(){var e=Object(b.a)(d.a.mark((function e(t){var n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),i(!1),e.next=4,O()(t).catch((function(e){return console.log(e)}));case 4:(n=e.sent)?(c=n.data.results).length>0?(w(c),f(!1),i(!1),H(!1)):(i(!0),H(!0)):i(!0);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){S((function(e){var t=e+1;return t>v.length-1?(R(),0):t}))},R=function(){P(!0)};return Object(c.jsx)(x.Provider,{value:{waiting:r,loading:m,questions:v,index:q,correct:z,error:A,isModalOpen:E,nextQuestion:K,checkAnswer:function(e){e&&_((function(e){return e+1})),K()},closeModal:function(){P(!1),i(!0),_(0)},quiz:Q,handleChange:function(e){var t=e.target.name,n=e.target.value;T(Object(u.a)(Object(u.a)({},Q),{},Object(l.a)({},t,n)))},handleSubmit:function(e){e.preventDefault();var t=Q.amount,n=Q.category,c=Q.difficulty,a="".concat("https://opentdb.com/api.php?","amount=").concat(t,"&difficulty=").concat(c,"&category=").concat(p[n],"&type=multiple");G(a)}},children:t})},y=function(){return Object(a.useContext)(x)},g=function(){var e=y(),t=e.quiz,n=e.handleChange,a=e.handleSubmit,s=e.error;return Object(c.jsx)("main",{children:Object(c.jsx)("section",{className:"quiz quiz-small",children:Object(c.jsxs)("form",{className:"setup-form",children:[Object(c.jsx)("h3",{children:"its time for you to test your brain power"}),Object(c.jsxs)("div",{className:"form-control",children:[Object(c.jsx)("label",{htmlFor:"amount",children:"number of questions"}),Object(c.jsx)("input",{type:"number",name:"amount",id:"amount",value:t.amount,onChange:n,className:"form-input",min:1,max:50})]}),Object(c.jsxs)("div",{className:"form-control",children:[Object(c.jsx)("label",{htmlFor:"category",children:" category"}),Object(c.jsxs)("select",{name:"category",id:"category",className:"form-input",value:t.category,onChange:n,children:[Object(c.jsx)("option",{value:"sports",children:"sports"}),Object(c.jsx)("option",{value:"history",children:"history"}),Object(c.jsx)("option",{value:"politics",children:"politics"}),Object(c.jsx)("option",{value:"generalknowledge",children:"general knowledge"}),Object(c.jsx)("option",{value:"animal",children:"animal"}),Object(c.jsx)("option",{value:"celebrities",children:"celebrities"}),Object(c.jsx)("option",{value:"vehicles",children:"vehicles"}),Object(c.jsx)("option",{value:"geography",children:"geography"})]})]}),Object(c.jsxs)("div",{className:"form-control",children:[Object(c.jsx)("label",{htmlFor:"difficulty",children:" select difficulty"}),Object(c.jsxs)("select",{name:"difficulty",id:"difficulty",className:"form-input",value:t.difficulty,onChange:n,children:[Object(c.jsx)("option",{value:"easy",children:"easy"}),Object(c.jsx)("option",{value:"medium",children:"medium"}),Object(c.jsx)("option",{value:"hard",children:"hard"})]})]}),s&&Object(c.jsx)("p",{className:"error",children:"cant generate question, please try different options"}),Object(c.jsx)("button",{type:"submit",onClick:a,className:"submit-btn",children:"start"})]})})})},v=function(){return Object(c.jsx)("main",{children:Object(c.jsx)("div",{className:"loading"})})},w=function(){var e=y(),t=e.isModalOpen,n=e.closeModal,a=(e.correct/e.questions.length*100).toFixed(0);return Object(c.jsx)("div",{className:"".concat(t?"modal-container isOpen":"modal-container"),children:Object(c.jsxs)("div",{className:"modal-content",children:[Object(c.jsx)("h2",{children:"you finished the quiz!"}),Object(c.jsxs)("p",{children:["you answered ",a,"% of questions correctly"]}),a<=70?Object(c.jsx)("p",{children:"dude, maybe you should try reading more books"}):Object(c.jsx)("p",{children:"dude you know nobody like, nobody like a show off"}),Object(c.jsx)("button",{className:"close-btn",onClick:n,children:"play again"})]})})};var N=function(){var e=y(),t=e.waiting,n=e.loading,a=e.questions,s=e.index,r=e.correct,i=e.nextQuestion,l=e.checkAnswer;if(t)return Object(c.jsx)(g,{});if(n)return Object(c.jsx)(v,{});console.log(a);var u=a[s],j=u.question,d=u.incorrect_answers,b=u.correct_answer,h=Object(o.a)(d),m=Math.floor(4*Math.random());return 3===m?h.push(b):(h.push(h[m]),h[m]=b),Object(c.jsxs)("main",{children:[Object(c.jsx)(w,{}),Object(c.jsxs)("section",{className:"quiz",children:[Object(c.jsxs)("p",{className:"correct-answers",children:["correct answers : ",r," / ",s]}),Object(c.jsxs)("article",{className:"container",children:[Object(c.jsx)("h2",{dangerouslySetInnerHTML:{__html:j}}),Object(c.jsx)("div",{className:"btn-container",children:h.map((function(e,t){return Object(c.jsx)("button",{className:"answer-btn",onClick:function(){return l(b===e)},dangerouslySetInnerHTML:{__html:e}},t)}))})]}),Object(c.jsx)("button",{className:"next-question",onClick:i,children:"next question"})]})]})};i.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(f,{children:Object(c.jsx)(N,{})})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.4ba81669.chunk.js.map