{"version":3,"sources":["Photo.js","App.js","index.js"],"names":["Photo","regular","urls","alt_description","likes","user","name","portfolio_url","medium","profile_image","className","src","alt","href","clientID","process","App","useState","loading","setLoading","photos","setPhotos","page","setPage","query","setQuery","fetchImages","a","urlPage","urlQuery","url","fetch","response","json","data","oldPhotos","results","console","log","useEffect","event","window","addEventListener","innerHeight","scrollY","document","body","scrollHeight","oldPage","removeEventListener","type","placeholder","value","onChange","e","target","onClick","preventDefault","map","image","index","ReactDOM","render","StrictMode","getElementById"],"mappings":"mPAmBeA,EAjBD,SAAC,GAAoG,IAA7FC,EAA4F,EAAlGC,KAAMD,QAAUE,EAAkF,EAAlFA,gBAAiBC,EAAiE,EAAjEA,MAAiE,IAA1DC,KAAMC,EAAoD,EAApDA,KAAMC,EAA8C,EAA9CA,cAA8BC,EAAgB,EAA/BC,cAAeD,OAChG,OAAO,0BAASE,UAAU,QAAnB,UACL,qBAAKC,IAAKV,EAASW,IAAKT,IACxB,sBAAKO,UAAU,aAAf,UACE,gCAEJ,6BAAKJ,IACL,8BAAIF,EAAJ,eAGI,mBAAGS,KAAMN,EAAT,SACE,qBAAKI,IAAKH,EAAQI,IAAKN,EAAMI,UAAU,sBCTzCI,EAAQ,qBAAiBC,+CA4FhBC,MApFf,WAAgB,IAAD,EACiBC,oBAAS,GAD1B,mBACNC,EADM,KACGC,EADH,OAEeF,mBAAS,IAFxB,mBAENG,EAFM,KAEEC,EAFF,OAGWJ,mBAAS,GAHpB,mBAGNK,EAHM,KAGAC,EAHA,OAIaN,mBAAS,IAJtB,mBAINO,EAJM,KAICC,EAJD,KAKPC,EAAW,uCAAG,oCAAAC,EAAA,6DAClBR,GAAW,GAELS,EAHY,gBAGON,GACnBO,EAJY,iBAISL,GAEzBM,EADEN,EACC,UAjBM,2CAiBN,OAAkBV,GAAlB,OAA6Bc,GAA7B,OAAuCC,GAEvC,UApBI,oCAoBJ,OAAgBf,GAAhB,OAA2Bc,GARd,kBAWOG,MAAMD,GAXb,cAWVE,EAXU,iBAYGA,EAASC,OAZZ,QAYVC,EAZU,OAahBb,GAAU,SAACc,GACT,OAAIX,GAAkB,IAATF,EACJY,EAAKE,QAEN,GAAN,mBAAWD,GADFX,EACT,YAAyBU,EAAKE,SAE9B,YAAyBF,OAG7Bf,GAAW,GAtBK,kDAwBhBkB,QAAQC,IAAR,MACAnB,GAAW,GAzBK,0DAAH,qDAmDjB,OAvBAoB,qBAAU,WACRb,MAEC,CAACJ,IAEJiB,qBAAU,WACR,IAAMC,EAAQC,OAAOC,iBAAiB,UAAU,aAE1CxB,GAAWuB,OAAOE,YAAcF,OAAOG,UACzCC,SAASC,KAAKC,aAAe,GAE7BxB,GAAQ,SAACyB,GACP,OAAOA,EAAU,QAIvB,OAAO,kBAAMP,OAAOQ,oBAAoB,SAAUT,MAEjD,IAMD,iCACE,yBAAS9B,UAAU,SAAnB,SACE,uBAAMA,UAAU,cAAhB,UACE,uBACEwC,KAAK,OACLC,YAAY,SACZC,MAAO5B,EACP6B,SAAU,SAACC,GAAD,OAAO7B,EAAS6B,EAAEC,OAAOH,QACnC1C,UAAU,eAEZ,wBAAQwC,KAAK,SAASxC,UAAU,aAAa8C,QAfhC,SAACF,GACpBA,EAAEG,iBACFlC,EAAQ,IAaF,SACE,cAAC,IAAD,WAIN,0BAASb,UAAU,SAAnB,UACE,qBAAKA,UAAU,gBAAf,SACGU,EAAOsC,KAAI,SAACC,EAAOC,GAClB,OAAO,cAAC,EAAD,eAAuBD,GAAXC,QAGtB1C,GAAW,oBAAIR,UAAU,UAAd,+BCrFpBmD,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFlB,SAASmB,eAAe,W","file":"static/js/main.ef6496fa.chunk.js","sourcesContent":["import React from 'react'\n\nconst Photo = ({urls:{regular}, alt_description, likes, user:{name, portfolio_url, profile_image:{medium}}, }) => {\n  return <article className=\"photo\">\n    <img src={regular} alt={alt_description}/>\n    <div className=\"photo-info\">\n      <div>\n\n  <h4>{name}</h4>\n  <p>{likes} likes</p>\n\n      </div>\n      <a href={portfolio_url}>\n        <img src={medium} alt={name} className='user-img'/>\n      </a>\n    </div>\n  </article>\n}\n\nexport default Photo\n","import React, { useState, useEffect } from 'react'\nimport { FaSearch } from 'react-icons/fa'\nimport Photo from './Photo'\n\nconst clientID = `?client_id=${process.env.REACT_APP_MYKEY}`\nconst mainUrl = `https://api.unsplash.com/photos/`\nconst searchUrl = `https://api.unsplash.com/search/photos/`\n\n\n\n\n\nfunction App() {\n  const [loading, setLoading] = useState(false)\n  const [photos, setPhotos] = useState([])\n  const [page, setPage] = useState(0)\n  const [query, setQuery] = useState('')\n  const fetchImages = async () => {\n    setLoading(true)\n    let url\n    const urlPage = `&page=${page}`\n    const urlQuery = `&query=${query}`\n    if (query) {\n      url = `${searchUrl}${clientID}${urlPage}${urlQuery}`\n    } else {\n      url = `${mainUrl}${clientID}${urlPage}`\n    }\n    try {\n      const response = await fetch(url)\n      const data = await response.json()\n      setPhotos((oldPhotos) => {\n        if (query && page === 1) {\n          return data.results\n        } else if (query) {\n          return [...oldPhotos, ...data.results]\n        } else {\n          return [...oldPhotos, ...data]\n        }\n      })\n      setLoading(false)\n    } catch (error) {\n      console.log(error)\n      setLoading(false)\n    }\n  }\n  useEffect(() => {\n    fetchImages()\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [page])\n\n  useEffect(() => {\n    const event = window.addEventListener('scroll', () => {\n      if (\n        (!loading && window.innerHeight + window.scrollY) >=\n        document.body.scrollHeight - 2\n      ) {\n        setPage((oldPage) => {\n          return oldPage + 1\n        })\n      }\n    })\n    return () => window.removeEventListener('scroll', event)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    setPage(1)\n  }\n  return (\n    <main>\n      <section className='search'>\n        <form className='search-form'>\n          <input\n            type='text'\n            placeholder='search'\n            value={query}\n            onChange={(e) => setQuery(e.target.value)}\n            className='form-input'\n          />\n          <button type='submit' className='submit-btn' onClick={handleSubmit}>\n            <FaSearch />\n          </button>\n        </form>\n      </section>\n      <section className='photos'>\n        <div className='photos-center'>\n          {photos.map((image, index) => {\n            return <Photo key={index} {...image} />\n          })}\n        </div>\n        {loading && <h2 className='loading'>Loading...</h2>}\n      </section>\n    </main>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}